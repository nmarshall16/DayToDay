<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Security-Policy" content="default-src*; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  <link rel="stylesheet" href="css/onsenui.css">
  <link rel="stylesheet" href="css/onsen-css-components.min.css">
  <script src="js/onsenui.min.js"></script>
  <script src="js/jquery.min.js"></script>
  <script src="cordova.js"></script>
  <script type="text/javascript">
           var showTemplateDialogStar = function() {
      var dialog = document.getElementById('my-dialog-star');

      if (dialog) {
        dialog.show();
      } else {
        ons.createElement('dialog.html', { append: true })
          .then(function(dialog) {
            dialog.show();
          });
      }
    };
    var showTemplateDialogImg = function() {
      var dialog = document.getElementById('my-dialog-img');

      if (dialog) {
        dialog.show();
      } else {
        ons.createElement('dialog.html', { append: true })
          .then(function(dialog) {
            dialog.show();
          });
      }
    };
    var hideD = function(id) {
      document
        .getElementById(id)
        .hide();
    };
    $(document).ready(function() {
      /*
      Llamadas a la tabla sugerencia de la base de datos
        * La url que se debe ingresar es la siguiente: http://209.222.103.210/~prestash/sugerencia.php
        * El type debe ser a traves de POST o post
        * En data se encuentra la informacion mas importante aqui se deben indicar los datos que enviaremos al servidor para hacer las consultas a continuacion explicare cuales son los datos que se deben enviar para cada consulta.
        - Para agregar sugerencias data debe tener el siguiente formato
          data: {
          'metodo': 'agregar',
          'usuario_id': 1,
          'nombre': 'Nombre de la sugerencia',
          'descripcion': 'Descripcion de la sugerencia',
          'imagen': 'imagen.jpg',
          'categoria_id': 1,
          }
          nota: La categoria con id 1 es la de motivacion y la categoria con id 2 es la de concentracion, ademas el valor imagen debe tener el nombre la imagen que se valla a seleccionar con la extencion correspondiente como .jpg .png

        - Para modificar la informacion de una sugerencia data debe tener el siguiente formato:
          data: {
          'metodo': 'modificar',
          'sugerencia_id': 1,
          'nombre': 'Nombre de la sugerencia',
          'descripcion': 'Descripcion de la sugerencia',
          'imagen': 'imagen.jpg',
          'categoria_id': 1,
          }
     
        - Para cargar la informacion de una sugerencia en especifico data debe tener el siguiente formato:
          data: {
          'metodo': 'verSugerencia',
          'sugerencia_id': 1,
          }

        - Para cargar todos las sugerencias data debe tener el siguiente formato: 
          data: {
          'metodo': 'verSugerencias',
          }

        - Para valorar una sugerencia data debe tener el siguiente formato: 
          data: {
          'metodo': 'valorarSugerencia',
          'sugerencia_id': 1,
          'usuario_id': 1,
          'valor': 5,
          'comentario': 'buena sugerencia perro',
          }
	
        por ultimo se deben agregar estos ultimos valores al ajax para que pueda acceder correctamente al archivo php 
        crossDomain: true,
        cache: false,

        A continuacion les muestro un ejemplo de como se cargar la lista de sugerencias a través de ajax
      */
      $("#allSugerencias").empty();
      $.ajax({
        url: 'http://209.222.103.210/~prestash/sugerencia.php',
        type: 'post',
        data: {
          'metodo': 'verSugerencias',
          },
        crossDomain: true,
        cache: false,                                        
        beforeSend: function() {
        },
        success: function(data) {
          console.log(data);
          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
          if(!data['errores']['error']) {
            var x = 0;
            data['sugerencias'].forEach(function(sugerencia){
              $("#allSugerencias").append('<div><ons-row><ons-col><input class="esteSi" hidden value='+sugerencia['id']+'><div style="border: black 1px solid; height: 100px;"><img src='+sugerencia['imagen']+' width="120" height="102"></div></ons-col><ons-col style="text-align: center;"><div class="sugest" attrX='+sugerencia['id']+' style="color: #1094bc;">'+sugerencia['nombre']+'</div><br><form  ><p class="clasificacion" style="direction: rtl; "><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio1-'+sugerencia['id']+'" type="radio" name="estrellas" value=5><label class="star" for="radio1-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio2-'+sugerencia['id']+'" type="radio" name="estrellas" value=4><label class="star" for="radio2-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio3-'+sugerencia['id']+'" type="radio" name="estrellas" value="3"><label class="star" for="radio3-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio4-'+sugerencia['id']+'" type="radio" name="estrellas" value=2><label class="star" for="radio4-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio5-'+sugerencia['id']+'" type="radio" name="estrellas" value="1"><label class="star" for="radio5-'+sugerencia['id']+'">★</label></p></form></ons-col><ons-col></ons-col></ons-row></div><br>');
             // x = $(".esteSi").attr('zas');
              //console.log("ESTE SI: " );
             /* $(".sugest").each(function( index ) {
                
                 if (sugerencia['id'] == $( this ).attr('attrX')) {
                   console.log( index + ": " + $( this ).attr('attrX'));
                 console.log("SUG: "+sugerencia['id']);
                 console.log($("input:radio[name='estrellas']").attr('idStar',sugerencia['id']).val(sugerencia['valoraciones']).prop('checked', true)); 
                  //$("input:radio[name='estrellas']").attr('idStar',sugerencia['id']).val(sugerencia['valoraciones']).prop('checked', true);
                 }
              });*/
             // 
             /* console.log(sugerencia['id']);
              if (sugerencia['id'] == x) {
                console.log(sugerencia['id']+" val: "+sugerencia['valoraciones']);
                $(".inputStar").val(sugerencia['valoraciones']).prop('checked', true);
              }
              x = 0;*/
            });
            // Aqui hay un ejemplo de como mostrar los datos
          }else{
            // Aqui podran ver el error que se genero
            console.log(data['errores']['description']);
          }
        },
        error:function(jqXHR,text_status,strError){ 
          console.log(jqXHR);
        }
      });

      $(document).on('click','.motiTXT',function(){
        fn.load('moti.html');
         $("#motiSugerencias").empty();
               $.ajax({
        url: 'http://209.222.103.210/~prestash/sugerencia.php',
        type: 'post',
        data: {
          'metodo': 'verSugerencias',
          },
        crossDomain: true,
        cache: false,                                        
        beforeSend: function() {
        },
        success: function(data) {
          console.log(data);
          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
          if(!data['errores']['error']) {

            data['sugerencias'].forEach(function(sugerencia){
             if (sugerencia['categoria_id'] == "1") {
              $("#motiSugerencias").append('<div ><ons-row><ons-col><div style="border: black 1px solid; height: 100px;"><img src='+sugerencia['imagen']+' width="120" height="102"></div></ons-col><ons-col style="text-align: center;"><div class="sugest" attrX='+sugerencia['id']+' style="color: #1094bc;">'+sugerencia['nombre']+'</div><br><form  ><p class="clasificacion" style="direction: rtl; "><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio1-'+sugerencia['id']+'" type="radio" name="estrellas" value=5><label class="star" for="radio1-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio2-'+sugerencia['id']+'" type="radio" name="estrellas" value=4><label class="star" for="radio2-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio3-'+sugerencia['id']+'" type="radio" name="estrellas" value="3"><label class="star" for="radio3-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio4-'+sugerencia['id']+'" type="radio" name="estrellas" value=2><label class="star" for="radio4-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio5-'+sugerencia['id']+'" type="radio" name="estrellas" value="1"><label class="star" for="radio5-'+sugerencia['id']+'">★</label></p></form></ons-col><ons-col></ons-col></ons-row></div><br>');
             }
              console.log(sugerencia);
            });
            // Aqui hay un ejemplo de como mostrar los datos
          }else{
            // Aqui podran ver el error que se genero
            console.log(data['errores']['description']);
          }
        },
        error:function(jqXHR,text_status,strError){ 
          console.log(jqXHR);
        }
      });
      });

      $(document).on('click','.conTXT',function(){
        fn.load('con.html')
         $("#conSugerencias").empty();
        $.ajax({
        url: 'http://209.222.103.210/~prestash/sugerencia.php',
        type: 'post',
        data: {
          'metodo': 'verSugerencias',
          },
        crossDomain: true,
        cache: false,                                        
        beforeSend: function() {
        },
        success: function(data) {
          console.log(data);
          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
          if(!data['errores']['error']) {

            data['sugerencias'].forEach(function(sugerencia){
             if (sugerencia['categoria_id'] == "2") {
              $("#conSugerencias").append('<div><ons-row><ons-col><div style="border: black 1px solid; height: 100px;"><img src='+sugerencia['imagen']+' width="120" height="102"></div></ons-col><ons-col style="text-align: center;"><div class="sugest" attrX='+sugerencia['id']+' style="color:#1094bc;">'+sugerencia['nombre']+'</div><br><form  ><p class="clasificacion" style="direction: rtl; "><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio1-'+sugerencia['id']+'" type="radio" name="estrellas" value=5><label class="star" for="radio1-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio2-'+sugerencia['id']+'" type="radio" name="estrellas" value=4><label class="star" for="radio2-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio3-'+sugerencia['id']+'" type="radio" name="estrellas" value="3"><label class="star" for="radio3-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio4-'+sugerencia['id']+'" type="radio" name="estrellas" value=2><label class="star" for="radio4-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio5-'+sugerencia['id']+'" type="radio" name="estrellas" value="1"><label class="star" for="radio5-'+sugerencia['id']+'">★</label></p></form></ons-col><ons-col></ons-col></ons-row></div><br>');
             }
              console.log(sugerencia);
            });
            // Aqui hay un ejemplo de como mostrar los datos
          }else{
            // Aqui podran ver el error que se genero
            console.log(data['errores']['description']);
          }
        },
        error:function(jqXHR,text_status,strError){ 
          console.log(jqXHR);
        }
      });
      });

      $(document).on('click', '.backHome, .btnAll', function(){
      fn.load('home.html');
      $("#allSugerencias").empty();
      $.ajax({
        url: 'http://209.222.103.210/~prestash/sugerencia.php',
        type: 'post',
        data: {
          'metodo': 'verSugerencias',
          },
        crossDomain: true,
        cache: false,                                        
        beforeSend: function() {
        },
        success: function(data) {
          console.log(data);
          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
          if(!data['errores']['error']) {

            data['sugerencias'].forEach(function(sugerencia){
              $("#allSugerencias").append('<div ><ons-row><ons-col><div style="border: black 1px solid; height: 100px;"><img src='+sugerencia['imagen']+' width="120" height="102"></div></ons-col><ons-col style="text-align: center;"><div class="sugest" attrX='+sugerencia['id']+' style="color: #1094bc;">'+sugerencia['nombre']+'</div><br><form ><p class="clasificacion" style="direction: rtl; "><input class="inputStar formStar"  idStar='+sugerencia['id']+'id="radio1-'+sugerencia['id']+'" type="radio" name="estrellas" value=5><label class="star" for="radio1-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio2-'+sugerencia['id']+'" type="radio" name="estrellas" value=4><label class="star" for="radio2-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio3-'+sugerencia['id']+'" type="radio" name="estrellas" value="3"><label class="star" for="radio3-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio4-'+sugerencia['id']+'" type="radio" name="estrellas" value=2><label class="star" for="radio4-'+sugerencia['id']+'">★</label><input class="inputStar formStar" idStar='+sugerencia['id']+' id="radio5-'+sugerencia['id']+'" type="radio" name="estrellas" value="1"><label class="star" for="radio5-'+sugerencia['id']+'">★</label></p></form></ons-col><ons-col></ons-col></ons-row></div><br>');
              console.log(sugerencia);
            });
            // Aqui hay un ejemplo de como mostrar los datos
          }else{
            // Aqui podran ver el error que se genero
            console.log(data['errores']['description']);
          }
        },
        error:function(jqXHR,text_status,strError){ 
          console.log(jqXHR);
        }
      });
      });


      var idSugest = 0;
      $(document).on('click','.sugest',function(){
        fn.load("editSugerencia.html");
       idSugest = $(this).attr("attrX");
        $("#infoSugerencia").empty();
        $(".footer-edit").empty();
        $.ajax({
        url: 'http://209.222.103.210/~prestash/sugerencia.php',
        type: 'post',
        data: {
          'metodo': 'verSugerencias',
          },
        crossDomain: true,
        cache: false,                                        
        beforeSend: function() {
        },
        success: function(data) {
          console.log(data);
          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
          if(!data['errores']['error']) {

            data['sugerencias'].forEach(function(sugerencia){
              if (sugerencia['id'] === idSugest) {
                if (sugerencia['categoria_id'] === "1") {
                //alert("UnO"); 
                $("#infoSugerencia").append('<ons-row><ons-col><div style="border: black 1px solid; height: 120px;"><ons-button onclick="showTemplateDialogImg()" style="width: 100%; height: 100%; background: transparent; "><img class="imgSug" src='+sugerencia['imagen']+' style="width: 100%; height: 100%;  "></ons-button></div></ons-col></ons-row><br><ons-row><ons-col style="text-align: center;"><ons-input id="nameSug" style="border: #1094bc 2px solid;" placeholder="Nombre de sugerencia" value="'+sugerencia['nombre']+'"></ons-input></ons-col></ons-row><br><ons-row><ons-col><textarea class="descSug" placeholder="Describa su sugerencia...."  style="border: #1094bc 1px solid; width: 100%; height: 120px;">'+sugerencia['descripcion']+'</textarea></ons-col></ons-row><br><ons-row><ons-col><ons-button id="thisBTN" class="btnMoti" btnTy="1" style="width: 90%;left: 5%; color:black; background:#FFFFFF;">Motivación</ons-button></ons-col><ons-col><ons-button id="thisBTN-2" class="btnMoti" btnTy="2" style="width: 90%; left: 5%; color:black; background: #FFFFFF;">Concentración</ons-button></ons-col></ons-row>');
                $(".footer-edit").append('<ons-row><ons-col style="text-align: center;"><ons-button class="editSugOn" style="width: 80%; background: #1094bc; color: white;">Agregar</ons-button></ons-col></ons-row>');
                }else{
                   //alert("DoS");
                $("#infoSugerencia").append('<ons-row><ons-col><div style="border: black 1px solid; height: 120px;"><ons-button onclick="showTemplateDialogImg()" style="width: 100%; height: 100%; background: transparent; "><img class="imgSug" src=src='+sugerencia['imagen']+' style="width: 100%; height: 100%;  "></ons-button></div></ons-col></ons-row><br><ons-row><ons-col style="text-align: center;"><ons-input id="nameSug" style="border: #1094bc 2px solid;" placeholder="Nombre de sugerencia" value="'+sugerencia['nombre']+'"></ons-input></ons-col></ons-row><br><ons-row><ons-col><textarea class="descSug" placeholder="Describa su sugerencia...."  style="border: #1094bc 1px solid; width: 100%; height: 120px;">'+sugerencia['descripcion']+'</textarea></ons-col></ons-row><br><ons-row><ons-col><ons-button id="thisBTN"  class="btnMoti" btnTy="1" style="width: 90%;left: 5%; color:black; background:#FFFFFF;">Motivación</ons-button></ons-col><ons-col><ons-button id="thisBTN-2"  class="btnMoti" btnTy="2" style="width: 90%; left: 5%; color:black; background: #FFFFFF;">Concentración</ons-button></ons-col></ons-row>');
                $(".footer-edit").append('<ons-row><ons-col style="text-align: center;"><ons-button class="editSugOn" style="width: 80%; background: #1094bc; color: white;">Agregar</ons-button></ons-col></ons-row>');
                }

              }
              
            });
            // Aqui hay un ejemplo de como mostrar los datos
          }else{
            // Aqui podran ver el error que se genero
            console.log(data['errores']['description']);
          }
        },
        error:function(jqXHR,text_status,strError){ 
          console.log(jqXHR);
        }
      });
      });
                      var tipCat = 0;
                      var image = "imagenes/default.png";
                 $(document).on('click',".btnMoti",function(){
                    if ($(this).attr("btnTy") == "1") {
                       //alert("Selecciono MOTIVACIÓN!")
                    }
                    if($(this).attr("btnTy") == "2"){
                      //alert("Selecciono CONCENTRACIÓN")
                    }
                   tipCat = $(this).attr("btnTy");
                  });

                  $(document).on('click','.imgSel',function(){
                    var texto = $(this).attr("src");
                    var newtxt = texto.split("/");
                    image = "imagenes/"+newtxt[1];
                    console.log("SRC: "+newtxt[1]);
                    $(".imgSug").attr("src",image);
                 }); 
                $(document).on('click','.editSugOn',function(){
                  var name = $("#nameSug").val();
                  var desc = $(".descSug").val();
                  //
                  if (imagen == "imagenes/default.png") {
                    image = $(".imgSug").attr('src');
                  }
                  //alert("ID:"+idSugest+"N: "+name+" D: "+desc+" T: "+tipCat+" IMA: "+image)
                  if (name != "" && desc !="" && tipCat !="" && image != "imagenes/default.png") {
                    $.ajax({
                        url: 'http://209.222.103.210/~prestash/sugerencia.php',
                        type: 'post',
                        data: {
                            'metodo': 'modificar',
                            'sugerencia_id': idSugest,
                            'nombre': name,
                            'descripcion': desc,
                            'imagen': image,
                            'categoria_id': tipCat,
                        },
                        crossDomain: true,
                        cache: false,                                        
                        beforeSend: function() {
                        },
                        success: function(data) {
                          console.log(data);
                          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
                          if(!data['errores']['error']) {
                              //alert ("logrado");
                              location.reload();
                            // Aqui hay un ejemplo de como mostrar los datos
                          }else{
                            // Aqui podran ver el error que se genero
                            console.log(data['errores']['description']);
                          }
                        },
                        error:function(jqXHR,text_status,strError){ 
                          console.log(jqXHR);
                        }
                      });
                  }else{
                    alert("Campos vacios!");
                  }
                   
                });
                var imagen = "imagenes/default.png";
                  $(document).on('click','.imgSel',function(){
                    var texto = $(this).attr("src");
                    var newtxt = texto.split("/");
                    console.log("SRC: "+newtxt[1]);
                    imagen = "imagenes/"+newtxt[1];
                    $(".imgADD").attr("src",imagen);
                  });
                $(document).on('click','.adedSugOn',function(){
                  var name = $("#nameSug").val();
                  var desc = $(".descSug").val();
                  //image = $(".imgADD").attr('src');
                  if (imagen == "imagenes/default.png") {
                    imagen = $(".imgADD").attr('src');
                  }
                  //alert("ID:"+idSugest+"N: "+name+" D: "+desc+" T: "+tipCat+" IMA: "+imagen)
                  if (name != "" && desc != "" && tipCat != "" && imagen != "imagenes/default.png" ) {
                    $.ajax({
                        url: 'http://209.222.103.210/~prestash/sugerencia.php',
                        type: 'post',
                        data: {
                        'metodo': 'agregar',
                        'usuario_id': 1,
                        'nombre': name,
                        'descripcion': desc,
                        'imagen': imagen,
                        'categoria_id': tipCat,
                        },
                        crossDomain: true,
                        cache: false,                                        
                        beforeSend: function() {
                        },
                        success: function(data) {
                          console.log(data);
                          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
                          if(!data['errores']['error']) {
                              //alert ("logrado");
                              location.reload();
                            // Aqui hay un ejemplo de como mostrar los datos
                          }else{
                            // Aqui podran ver el error que se genero
                            console.log(data['errores']['description']);
                          }
                        },
                        error:function(jqXHR,text_status,strError){ 
                          console.log(jqXHR);
                        }
                      });
                  }else{
                    alert("Campos vacios!");
                  }
                   
                });
                 
        $(document).on('click','.formStar',function(){
                                    fn.load('califSug.html');
       // alert("valor: "+$(this).val());
        //alert("ID: "+$(this).attr("idStar"));
        var star = $(this).val();
        var txt = $(this).attr("idStar");
        
                   $.ajax({
                        url: 'http://209.222.103.210/~prestash/sugerencia.php',
                        type: 'post',
                       data: {
                        'metodo': 'verSugerencias',
                        },
                        crossDomain: true,
                        cache: false,                                        
                        beforeSend: function() {
                        },
                        success: function(data) {
                          console.log(data);

                          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
                          if(!data['errores']['error']) {
                          data['sugerencias'].forEach(function(sugerencia){
                            if (sugerencia['id'] == txt) {
                              /* $(".putaVista").val(sugerencia['nombre']);
                               console.log("Name: "+sugerencia['nombre']);
                                console.log("Funciona puto: "+txt);
                                console.log("input: "+$(".putaVista").val());*/
                                $(".traFunciona").append('<h1>Funciono el id del evento es: "'+txt+'" y el valor de las estrellas es de: "'+star+'"</h1>');
                                 $('input:radio[name="estrellasDos"][value='+star+']').prop('checked', true);
                                 $("#nameCal").text(sugerencia['nombre']);
                                 $("#descCal").text(sugerencia['descripcion']);
                            }
                         
                            });
                              //alert ("logrado");
                            // Aqui hay un ejemplo de como mostrar los datos
                          }else{
                            // Aqui podran ver el error que se genero
                            console.log(data['errores']['description']);
                          }
                        },
                        error:function(jqXHR,text_status,strError){ 
                          console.log(jqXHR);
                        }
                      });
        
       
      });


        var valueStar = 0;
      $(document).on('click','.checkVal',function(){
        showTemplateDialogStar();
        //alert($(this).val());
        valueStar = $(this).val();
        $('input:radio[name="estrellasDosModal"][value='+valueStar+']').prop('checked', true);
      });

      $(document).on('click','#readyCal',function(){
       // alert(valueStar);
        /*$.ajax({
                        url: 'http://209.222.103.210/~prestash/sugerencia.php',
                        type: 'post',
                       data: {
                        'metodo': 'verSugerencias',
                        },
                        crossDomain: true,
                        cache: false,                                        
                        beforeSend: function() {
                        },
                        success: function(data) {
                          console.log(data);

                          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
                          if(!data['errores']['error']) {
                          data['sugerencias'].forEach(function(sugerencia){
                            if (sugerencia['id'] == txt) {
                              /* $(".putaVista").val(sugerencia['nombre']);
                               console.log("Name: "+sugerencia['nombre']);
                                console.log("Funciona puto: "+txt);
                                console.log("input: "+$(".putaVista").val());*/
                              /*  $(".traFunciona").append('<h1>Funciono el id del evento es: "'+txt+'" y el valor de las estrellas es de: "'+star+'"</h1>');
                                 $('input:radio[name="estrellasDos"][value='+star+']').prop('checked', true);
                                 $("#nameCal").text(sugerencia['nombre']);
                                 $("#descCal").text(sugerencia['descripcion']);
                            }
                         
                            });
                              alert ("logrado");
                            // Aqui hay un ejemplo de como mostrar los datos
                          }else{
                            // Aqui podran ver el error que se genero
                            console.log(data['errores']['description']);
                          }
                        },
                        error:function(jqXHR,text_status,strError){ 
                          console.log(jqXHR);
                        }
                      });*/
      });
      $(document).on('click' ,'#thisButton', function(){
        $(this).css({
          color: 'white',
          background: '#1094bc'
        });
        $("#thisButton-2").css({
          color: 'black',
          background: '#FFFFFF'
        });
      });
      $(document).on('click' ,'#thisButton-2', function(){
        $(this).css({
          color: 'white',
          background: '#1094bc'
        });
        $("#thisButton").css({
          color: 'black',
          background: '#FFFFFF'
        });
      });
            $(document).on('click' ,'#thisBTN', function(){
        $(this).css({
          color: 'white',
          background: '#1094bc'
        });
        $("#thisBTN-2").css({
          color: 'black',
          background: '#FFFFFF'
        });
      });
      $(document).on('click' ,'#thisBTN-2', function(){
        $(this).css({
          color: 'white',
          background: '#1094bc'
        });
        $("#thisBTN").css({
          color: 'black',
          background: '#FFFFFF'
        });
      });

      $(document).on('click','.btnAleatory',function(){
        fn.load('sugeAleatory.html');
        $.ajax({
                        url: 'http://209.222.103.210/~prestash/sugerencia.php',
                        type: 'post',
                       data: {
                        'metodo': 'verSugerencias',
                        },
                        crossDomain: true,
                        cache: false,                                        
                        beforeSend: function() {
                        },
                        success: function(data) {
                          console.log(data);
                          var aleatorioLarge = data['sugerencias'].length;
                           var random = Math.round(Math.random() * (aleatorioLarge - 1) + 1);
                          // alert("ran: "+random);
                          // Con esta consulta se valida que no haya habido ningun problema con la consulta  
                          if(!data['errores']['error']) {
                           data['sugerencias'].forEach(function(sugerencia){
                            if (sugerencia['id'] == random) {
                              $(".imgAleatory").attr('src',sugerencia['imagen']);
                              $("#nameAleatory").text(sugerencia['nombre']);
                              $("#descAleatory").text(sugerencia['descripcion']);
                            }

                            });
                             // alert ("logrado");
                            // Aqui hay un ejemplo de como mostrar los datos
                          }else{
                            // Aqui podran ver el error que se genero
                            console.log(data['errores']['description']);
                          }
                        },
                        error:function(jqXHR,text_status,strError){ 
                          console.log(jqXHR);
                        }
                      });
      });
                
    });
  
  </script>
  <style type="text/css">
    .star{
     color:grey;
   }
       .starDos{
     color:grey;
   }
       .starDosModal{
     color:grey;
   }
    input[type = "radio"]{
     display:none;
   }
    .clasificacion{
      direction: rtl;/* right to left */
      unicode-bidi: bidi-override;/* bidi de bidireccional */
  }
  .star:hover{
    color:orange;
  }
  .star:hover ~ label{
    color:orange;
  }
    .starDos:hover{
    color:orange;
  }
  .starDos:hover ~ label{
    color:orange;
  }
      .starDosModal:hover{
    color:orange;
  }
  .starDosModal:hover ~ label{
    color:orange;
  }
  .inputStar[type = "radio"]:checked ~ .star{
    color:orange;
  }
  .checkVal[type = "radio"]:checked ~ .starDos{
    color:orange;
  }
   .checkValModal[type = "radio"]:checked ~ .starDosModal{
    color:orange;
  }
  .footer {
   position: fixed;
   left: 0;
   bottom: 0;
   width: 100%;
   color: white;
   text-align: center;
   background: #F2F2F2;
}
 .footer-edit {
   position: fixed;
   left: 0;
   bottom: 0;
   width: 100%;
   color: white;
   text-align: center;
   background: #F2F2F2;
}



  </style>
</head>
<body>
  <ons-splitter>
    <ons-splitter-side id="menu" side="right" width="220px" collapse swipeable>
      <ons-page>
        <ons-list>
          <a href="actividades.html" style="text-decoration: none; color: black;"><ons-list-item tappable>
            Actividades 
          </ons-list-item></a>
          <a href="frecuentes.html" style="text-decoration: none; color: black;">
            <ons-list-item tappable>
            Frecuentes
          </ons-list-item>
          </a>
          <a href="evento.html" style="text-decoration: none; color: black;">
            <ons-list-item tappable>
            Eventos
          </ons-list-item>
          </a>
          <a href="contacto.html" style="text-decoration: none; color: black;">
            <ons-list-item tappable>
            Contactos
          </ons-list-item>
          </a>
          <a href="#" style="text-decoration: none; color: black;">
            <ons-list-item tappable>
            Sugerencias
          </ons-list-item>
          </a>
          <a href="configuracion.html" style="text-decoration: none; color: black;">
            <ons-list-item tappable>
            Configuracion
          </ons-list-item>
          </a>
          <a  href="#"  style="text-decoration: none; color: black;">
            <ons-list-item tappable>
            Cerrar sesión
          </ons-list-item>
          </a>
        </ons-list>
      </ons-page>
    </ons-splitter-side>
    <ons-splitter-content id="content" page="home.html"></ons-splitter-content>
  </ons-splitter>
  <template id="home.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button>
            <ons-icon icon="fa-angle-left"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" style="text-align: center;">
          <label>Sugerencias</label>
        </div>
        <div class="right">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="fa-align-justify"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-row>
        <ons-col><ons-button class="btnAll" style="width: 100%; background: #1094bc; color: white;">Todas</ons-button></ons-col>
        <ons-col><ons-button class="motiTXT" style="width: 100%; background: #FFFFFF; color: black;">Motivación</ons-button></ons-col>
        <ons-col><ons-button class="conTXT" style="width: 100%; background: #FFFFFF; color: black;">Concentración</ons-button></ons-col>
      </ons-row><br><br>
      <div id="allSugerencias">
        
      </div>
       <div class="footer">
    <ons-row>
      <ons-col ><ons-button class="btnAleatory" style="width: 100%; left: 20%; background: #1094bc; color: white;">Aleatorio</ons-button></ons-col>
      <ons-col style="text-align: center;"><ons-icon style="color: black;" size="35px" icon="md-plus-circle" onclick="fn.load('adirSug.html')"></ons-icon></ons-col>
    </ons-row>
  </div>
    </ons-page>
  </template>
    <template id="moti.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button>
            <ons-icon icon="fa-angle-left"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" style="text-align: center;">
          <label>Sugerencias</label>
        </div>
        <div class="right">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="fa-align-justify"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-row>
        <ons-col><ons-button class="btnAll" style="width: 100%; background: #FFFFFF; color: black;" >Todas</ons-button></ons-col>
        <ons-col><ons-button class="motiTXT" style="width: 100%; background: #1094bc; color: white;">Motivación</ons-button></ons-col>
        <ons-col><ons-button class="conTXT" style="width: 100%; background: #FFFFFF; color: black;">Concentración</ons-button></ons-col>
      </ons-row><br><br>
      <div id="motiSugerencias">
        
      </div>
       <div class="footer">
    <ons-row>
      <ons-col ><ons-button style="width: 100%; left: 20%; background: #1094bc; color: white;">Aleatorio</ons-button></ons-col>
      <ons-col style="text-align: center;"><ons-icon style="color: black;" size="35px" icon="md-plus-circle" onclick="fn.load('adirSug.html')"></ons-icon></ons-col>
    </ons-row>
  </div>
    </ons-page>
  </template>
    <template id="con.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button>
            <ons-icon icon="fa-angle-left"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" style="text-align: center;">
          <label>Sugerencias</label>
        </div>
        <div class="right">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="fa-align-justify"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-row>
        <ons-col><ons-button class="btnAll" style="width: 100%; background: #FFFFFF; color: black;" >Todas</ons-button></ons-col>
        <ons-col><ons-button class="motiTXT" style="width: 100%; background: #FFFFFF; color: black;">Motivación</ons-button></ons-col>
        <ons-col><ons-button class="conTXT" style="width: 100%; background: #1094bc; color: white;">Concentración</ons-button></ons-col>
      </ons-row><br><br>
      <div id="conSugerencias">
        
      </div>
       <div class="footer">
    <ons-row>
      <ons-col ><ons-button style="width: 100%; left: 20%; background: #1094bc; color: white;">Aleatorio</ons-button></ons-col>
      <ons-col style="text-align: center;"><ons-icon style="color: black;" size="35px" icon="md-plus-circle" onclick="fn.load('adirSug.html')"></ons-icon></ons-col>
    </ons-row><!-- onclick="fn.load('califSug.html')" -->
  </div>
    </ons-page>
  </template>
      <template id="califSug.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Sometimes
        </div>
      </ons-toolbar>
      <ons-row>
        <ons-col>
          <div style="border: black 1px solid; height: 120px;">
            <img src="imagen.jpg" style="width: 100%; height: 100%; border: #1094bc 1px solid;">
          </div>
        </ons-col>
      </ons-row>
      <br>
      <ons-row>
        <ons-col style="text-align: center;">
          <label id="nameCal"></label>
        </ons-input>
        </ons-col>
      </ons-row>
        <br>
        <ons-row>
          <ons-col>
            <label id="descCal" style="width: 100%; height: 120px;"></label>
          </ons-col>
          </ons-row>

      <div class="traFunciona">
      </div>
      <div class="footer">
        <ons-row>
          <ons-col style="text-align: center;">
             <form>
                  <p class="clasificacion">
                    <input class="checkVal" id="radio1" type="radio" name="estrellasDos" value="5">
                    <label class="starDos" for="radio1">★</label>
                    <input class="checkVal"  id="radio2"  type="radio" name="estrellasDos" value="4">
                    <label class="starDos" for="radio2">★</label>
                    <input class="checkVal" id="radio3" type="radio" name="estrellasDos" value="3">
                    <label class="starDos" for="radio3">★</label>
                    <input class="checkVal" id="radio4" type="radio" name="estrellasDos" value="2">
                    <label class="starDos" for="radio4">★</label>
                    <input class="checkVal" id="radio5" type="radio" name="estrellasDos" value="1">
                    <label class="starDos" for="radio5">★</label>
                  </p>
              </form>
          </ons-col>
        </ons-row>
      </div>
        <ons-dialog id="my-dialog-star">
    <div style="text-align: center; padding: 10px;">
      <ons-row>
        <ons-col style="text-align: right;"><ons-icon icon="md-close" size="20px" onclick="hideD('my-dialog-star')" ></ons-icon></ons-col>
      </ons-row><br>
      <ons-row>
        <ons-col>
          <label>Modificar calificación</label>
        </ons-col>
      </ons-row>
      <ons-row>
        <ons-col style="text-align: center;">
          <form>
                  <p class="clasificacion">
                    <input class="checkValModal" id="radio1" type="radio" name="estrellasDosModal" value="5">
                    <label class="starDosModal" for="radio1">★</label>
                    <input class="checkValModal"  id="radio2"  type="radio" name="estrellasDosModal" value="4">
                    <label class="starDosModal" for="radio2">★</label>
                    <input class="checkValModal" id="radio3" type="radio" name="estrellasDosModal" value="3">
                    <label class="starDosModal" for="radio3">★</label>
                    <input class="checkValModal" id="radio4" type="radio" name="estrellasDosModal" value="2">
                    <label class="starDosModal" for="radio4">★</label>
                    <input class="checkValModal" id="radio5" type="radio" name="estrellasDosModal" value="1">
                    <label class="starDosModal" for="radio5">★</label>
                  </p>
              </form>
        </ons-col>
      </ons-row><br>
      <ons-row>
        <ons-col><ons-button style="color: white; background: #1094bc; width: 100%;" id="readyCal">Listo</ons-button></ons-col>
        <ons-col><ons-button style="color: white; background: #ED1919; width: 100%;" onclick="hideD('my-dialog-star')">Cancelar</ons-button></ons-col>
      </ons-row>
    </div>
  </ons-dialog>
    </ons-page>
  </template>
  <template id="editSugerencia.html">
    <ons-page>
      <ons-toolbar>
        <div class="left backHome">
           <ons-toolbar-button>
            <ons-icon icon="fa-angle-left"></ons-icon>
          </ons-toolbar-button>
         
        </div>
        <div class="center">
          Settings
        </div>
        <div class="right">
           <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <div id="infoSugerencia">
      </div>
       <div class="footer-edit">
      </div>
      <ons-dialog id="my-dialog-img">
    <div style="text-align: center; padding: 10px;">
      <ons-row>
        <ons-col style="text-align: right;"><ons-icon icon="md-close" size="20px" onclick="hideD('my-dialog-img')" ></ons-icon></ons-col>
      </ons-row><br>
      <ons-row>
         <ons-col style="text-align: center;">
          <label style="width: 100%;">Seleccionar imagen</label>
        </ons-col>
      </ons-row><br>
      <ons-row>
        <ons-col>
          <img src="imagenes/accion.png" class="imgSel" style="border:black 1px solid; width: 100%; height: 100%;"  >
        </ons-col>
        <ons-col>
          <img src="imagenes/tablet.png" class="imgSel" style="border:black 1px solid; width: 100%; height: 100%;"  >
        </ons-col>
      </ons-row>
      <ons-row>
        <ons-col>
          <img src="imagenes/grupo.png" class="imgSel" style="border:black 1px solid; width: 100%; height: 100%;"  >
        </ons-col>
        <ons-col>
          <img src="imagenes/responsabilidad.png" class="imgSel" style="border:black 1px solid; width: 100%; height: 100%;"  >
        </ons-col>
      </ons-row>
    </div>
  </ons-dialog>
    </ons-page>
  </template>
  <template id="adirSug.html">
    <ons-page>
            <ons-toolbar>
        <div class="left backHome">
           <ons-toolbar-button>
            <ons-icon icon="fa-angle-left"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Settings
        </div>
        <div class="right">
           <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-row><ons-col><div style="border: black 1px solid; height: 120px;"><ons-button onclick="showTemplateDialogImg()" style="width: 100%; height: 100%; background: transparent; "><img class="imgADD" src="imagenes/default.png" style="width: 100%; height: 100%;  "></ons-button></div></ons-col></ons-row><br><ons-row><ons-col style="text-align: center;"><ons-input id="nameSug" style="border: #1094bc 2px solid;" placeholder="Nombre de sugerencia"></ons-input></ons-col></ons-row><br><ons-row><ons-col><textarea class="descSug" placeholder="Describa su sugerencia...."  style="border: #1094bc 1px solid; width: 100%; height: 120px;"></textarea></ons-col></ons-row><br><ons-row><ons-col><ons-button id="thisButton" class="btnMoti" btnTy="1" style="width: 90%;left: 5%; color: black; background: #FFFFFF;">Motivación</ons-button></ons-col><ons-col><ons-button id="thisButton-2" class="btnMoti" btnTy="2" style="width: 90%; left: 5%; color: black; background: #FFFFFF;">Concentración</ons-button></ons-col></ons-row>
      <div class="footer">
        <ons-row><ons-col style="text-align: center;"><ons-button class="adedSugOn" style="width: 80%; background: #1094bc; color: white;">Agregar</ons-button></ons-col></ons-row>
      </div>
              <ons-dialog id="my-dialog-img">
    <div style="text-align: center; padding: 10px;">
      <ons-row>
        <ons-col style="text-align: right;"><ons-icon icon="md-close" size="20px" onclick="hideD('my-dialog-img')" ></ons-icon></ons-col>
      </ons-row><br>
      <ons-row>
         <ons-col style="text-align: center;">
          <label style="width: 100%;">Seleccionar imagen</label>
        </ons-col>
      </ons-row><br>
      <ons-row>
        <ons-col>
          <img src="imagenes/accion.png" class="imgSel" style="border:black 1px solid; width: 100%; height: 100%;"  >
        </ons-col>
        <ons-col>
          <img src="imagenes/tablet.png" class="imgSel" style="border:black 1px solid; width: 100%; height: 100%;"  >
        </ons-col>
      </ons-row>
      <ons-row>
        <ons-col>
          <img src="imagenes/grupo.png" class="imgSel" style="border:black 1px solid; width: 100%; height: 100%;"  >
        </ons-col>
        <ons-col>
          <img src="imagenes/responsabilidad.png" class="imgSel" style="border:black 1px solid; width: 100%; height: 100%;"  >
        </ons-col>
      </ons-row>
    </div>
  </ons-dialog>
    </ons-page>
  </template>
  <template id="sugeAleatory.html">
    <ons-page>
      <ons-toolbar>
        <div class="left backHome">
           <ons-toolbar-button>
            <ons-icon icon="fa-angle-left"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Settings
        </div>
        <div class="right">
           <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <h1>Soy la sugerencia aleatoria</h1>
      <ons-row>
        <ons-col>
          <div style="border: black 1px solid; height: 120px;">
            <img class="imgAleatory" src="imagenes/default.png" style="width: 100%; height: 100%; border: #1094bc 1px solid;">
          </div>
        </ons-col>
      </ons-row>
      <br>
      <ons-row>
        <ons-col style="text-align: center;">
          <label id="nameAleatory"></label>
        </ons-input>
        </ons-col>
      </ons-row>
        <br>
        <ons-row>
          <ons-col>
            <label id="descAleatory" style="width: 100%; height: 120px;"></label>
          </ons-col>
          </ons-row>
    </ons-page>
  </template>
<script src="js/app.js"></script>
</body>
</html>
         